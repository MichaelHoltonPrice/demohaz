% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/usher3.R
\name{calc_weights}
\alias{calc_weights}
\title{Calculate the state weights at age x0}
\usage{
calc_weights(x0, k1, k2, b_siler, x_cut = Inf)
}
\arguments{
\item{x0}{The age at which to calculate the weights}

\item{k1}{The constant transition rate from the healthy state to the ill
state (before x_cut)}

\item{k2}{The factor by which the mortality hazard out of the ill state is
larger than that out of the healthy state}

\item{b_siler}{The parameter vector for the Siler hazard model (baseline
mortality)}

\item{x_cut}{The age at which the well-to-ill transition hazard becomes
zero [default: Inf]. When x_cut = Inf, this reduces to the standard
constant hazard model.}
}
\value{
A vector of length 2 containing [w_1(x0), w_2(x0)], where:
  w_1(x0) is the proportion of living individuals who are well at age x0
  w_2(x0) is the proportion of living individuals who are ill at age x0
}
\description{
This function computes the proportion of living individuals who are in the
well state (w_1) and ill state (w_2) at age x0, given that all individuals
start in the well state at age 0. These weights reflect disease etiology
from birth to age x0.
}
\details{
Computes the state weights from birth (age 0) to age x0:
w_1(x0) = p_11(0, x0) / [p_11(0, x0) + p_12(0, x0)]
w_2(x0) = p_12(0, x0) / [p_11(0, x0) + p_12(0, x0)]

These weights sum to 1 and represent the state distribution at age x0 for
individuals who survive to that age, assuming all individuals start in the 
well state at birth. They are used in calculating the weighted age-at-death 
densities for analyses restricted to individuals who survive to age x0.

At age 0, returns c(1, 0) since everyone starts in the well state.
}
\examples{
# Example parameter values
b_siler <- c(0.175, 1.40, 0.00368, 38.1, 0.0917)
k1 <- 0.02
k2 <- 1.2

# Calculate weights at age 10 (from birth)
calc_weights(x0 = 10, k1 = k1, k2 = k2, b_siler = b_siler)

}
